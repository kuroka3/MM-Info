:root{
  --text-primary:#f0f0f0;
}

.day-tabs{
  --day-tab-gap:.5rem;
  --day-tab-width:min(8rem,calc((100% - (var(--day-tab-gap) * 2)) / 3));
  display:flex;
  justify-content:center;
  gap:var(--day-tab-gap);
  margin:2rem auto;
  width:100%;
}
.day-tabs button{
  flex:0 0 var(--day-tab-width);
  width:var(--day-tab-width);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:.25rem;
  padding:.5rem .75rem;
  font-size:clamp(1rem,4vw,1.2rem);
  border-radius:9999px !important;
  border:1px solid var(--glass-border);
  background:var(--glass-bg);
  color:#f0f0f0;
  backdrop-filter:blur(10px);
  cursor:pointer;
  transition:background .2s, box-shadow .2s;
}
.day-tabs button .booth-day{
  width:clamp(1.4rem,4vw,1.8rem);
  height:clamp(1.4rem,4vw,1.8rem);
  font-size:clamp(.85rem,3vw,1rem);
}
.day-tabs button .date{
  line-height:1;
}
.day-tabs button:hover{
  box-shadow:0 0 8px rgba(240,240,240,.6);
}
.day-tabs button.active{
  background:rgba(255,255,255,.25);
  font-weight:700;
}

@media (min-width: 480px) {
  .day-tabs{
    --day-tab-gap:1rem;
    --day-tab-width:min(8rem,calc((100% - (var(--day-tab-gap) * 2)) / 3));
  }
  .day-tabs button{
    flex-direction:row;
    gap:.5rem;
    padding:.6rem 1.4rem;
  }
}

.cm-map-wrapper{
  position:relative;
  padding:1.5rem;
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(10px);
  border:1px solid var(--glass-border);
  border-radius:16px;
  overflow:visible;
}
.cm-map-wrapper::after{
  content:"";
  pointer-events:none;
  position:absolute;
  inset:8px;
  border:2px solid rgba(255,255,255,.6);
  border-left-color:transparent;
  border-bottom-color:transparent;
  border-radius:12px;
}
.bottom-left-mask-box {
  position: absolute;
  bottom: 0;
  left:   0;
  width:  calc(100% - var(--gutter));
  height: calc(100% - var(--gutter));
  pointer-events: none;
  background: transparent;
}

.bottom-left-mask-box::after {
  content: "";
  position: absolute;
  inset: 8px;
  border-left:   2px solid rgba(255,255,255,0.6);
  border-bottom: 2px solid rgba(255,255,255,0.6);
  border-radius: 0 12px 0 12px;
  pointer-events: none;
}
.exit-label-cell {
  align-self: start;
  justify-self: start;
  margin: 0;
  padding: 0;
  font-size: clamp(.5rem, 5vw, 1.75rem);
  font-weight: bold;
  color: #f0f0f0;
}

.entrance-label {
  position: absolute;
  bottom: -3rem;
  right: 2rem;
  pointer-events: none;
  z-index: 10000;
  font-size: clamp(.5rem, 5vw, 1.75rem);
  font-weight: bold;
  color: #f0f0f0;
  transition: bottom .3s ease, right .3s ease;
}

@media (max-width: 600px) {
  .entrance-label {
    bottom: -2rem;
    right: 1.5rem;
  }
}

@media (max-width: 400px) {
  .entrance-label {
    bottom: -1rem;
    right: 1rem;
  }
}

.cm-grid{
  display:grid;
  grid-template-columns:repeat(12,minmax(0,1fr));
  gap:2px;
  padding:2px;
}
.booth,
.booth-empty,
.booth-hidden{
  width:100%;
  height:100%;
}
.booth{
  position:relative;
  font-weight:700;
  font-size:clamp(.85rem,2vw,1rem);
  padding:.55rem .2rem;
  border-radius:8px;
  text-align:center;
  color: #f0f0f0;
  cursor:pointer;
  background:rgba(var(--row-color),0.25);
  border:1px solid rgba(var(--row-color),0.5);
  backdrop-filter:blur(6px);
  transition:background-color .2s, filter .2s, box-shadow .2s;
}
.booth:hover{
  box-shadow:0 0 6px rgba(var(--row-color),0.8);
  filter:brightness(1.1);
}
.booth.highlight{
  box-shadow:0 0 0 6px rgba(var(--row-color),1);
  animation:booth-highlight 5s ease-out;
}
@keyframes booth-highlight{
  to{box-shadow:0 0 0 0 rgba(var(--row-color),0);}
}
.booth-empty{
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,.04);
  border:1px dashed rgba(255,255,255,.18);
  border-radius:8px;
  padding:.3rem 0;
  font-size:1rem;
  color:rgba(255,255,255,.28);
}
.booth-hidden{
  background:transparent;
}
.booth-tooltip{
  position:absolute;
  z-index:20000;
  left:50%;
  top:104%;
  bottom:auto;
  transform:translate(-50%, 8px);
  padding:.7rem;
  border-radius:12px;
  background:rgba(255,255,255,.15);
  color: #f0f0f0;
  border:1px solid var(--glass-border);
  backdrop-filter:blur(8px);
  opacity:0;
  visibility:hidden;
  transition:opacity .3s cubic-bezier(0.4,0,0.2,1),transform .3s cubic-bezier(0.4,0,0.2,1);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.25rem;
  min-width:auto;
  pointer-events:none;
}
.tooltip-img-wrapper{
  position:relative;
  width:120px;
  height:120px;
  border-radius:8px;
  overflow:hidden;
}
.tooltip-img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.tooltip-title{
  font-size:.9rem;
  font-weight:600;
}
.walk-gap{
  height:10px;
  grid-column:1/-1;
}
.booth-list{
  display:flex;
  flex-direction:column;
  gap:1.25rem;
  margin-top:2rem;
  position: relative;
}
.booth-row-header{
  display:flex;
  align-items:center;
  justify-content:center;
  width: 38.2%; 
  margin:2rem 0 .5rem;
  font-size:1.25rem;
  font-weight:700;
  border-radius:12px 12px 0 0;
  backdrop-filter:blur(10px);
  border-width:2px;
  border-style:solid;
  color: #f0f0f0;
  cursor:default;
  pointer-events:none;
  padding:.75rem 1rem;
  overflow: visible;
  position: relative; 
  z-index: 1;
}
.booth-row-header::after {
  content: "";
  position: absolute;
  left: var(--divider-left, 0);
  bottom: -2px;
  width: var(--divider-width, 0);
  height: 2px;
  background: rgba(var(--row-color), 0.8);
  pointer-events: none;
}
.booth-row-header.highlight{
  animation:notice-highlight 3s ease-out;
}

.booth-item{
  display:flex;
  gap:1rem;
  padding:1rem;
  background:rgba(255,255,255,.17);
  border-radius:16px;
  backdrop-filter:blur(10px);
  position:relative;
  overflow:hidden;
  border:1px solid rgba(var(--row-color),0.8);
  transition:all .4s cubic-bezier(.4,0,.2,1);
}
.booth-item::before{
  content:"";
  position:absolute;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 100%);
  opacity:0;
  transition:opacity .3s ease;
  pointer-events:none;
}
.booth-item.highlight{
  animation:notice-highlight 3s ease-out;
}
.booth-item:hover{
  transform:translateY(-4px);
  box-shadow:0 16px 48px var(--shadow);
  border-color:rgba(var(--row-color),1);
}
.booth-item:hover::before{
  opacity:1;
}
.booth-item-img{
  border-radius:12px;
  width:96px;
  height:96px;
  object-fit:cover;
}
.booth-item-title{
  font-size:1.1rem;
  font-weight:700;
  margin:0 0 .3rem;
}
.booth-item-meta{
  font-size:.88rem;
  opacity:.8;
  margin:0 0 .5rem;
}
.booth-days{
  display:inline-flex;
  gap:.25rem;
  margin-left:.5rem;
}
.booth-day{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:1.4rem;
  height:1.4rem;
  border-radius:50%;
  font-size:.7rem;
  font-weight:700;
  color:#fff;
}
.booth-day.sat{background:#1e90ff;}
.booth-day.sun{background:#ff4d4f;}
.booth-day.mon{background:#6b7280;}
.member-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:.25rem;
}
.member-item{
  font-size:.83rem;
  display:flex;
  justify-content:space-between;
}
.member-links a{
  margin-left:.4rem;
  display:inline-flex;
  align-items:center;
  gap:.2rem;
  font-size:.78rem;
  color: #f0f0f0;
  text-decoration:none;
}

.row-nav{
  display:flex;
  justify-content:center;
  gap:.5rem;
  margin-top:6rem;
}
.row-nav-btn{
  width:80px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:8px;
  border-width:1px;
  border-style:solid;
  font-weight:700;
  color:#f0f0f0;
  backdrop-filter:blur(6px);
  cursor:pointer;
  transition:background-color .2s, filter .2s, box-shadow .2s;
  font-size:clamp(.95rem,2.5vw,1.2rem);
}
.row-nav-btn:hover{
  box-shadow:0 0 10px currentColor;
  filter:brightness(1.1);
}

.cm-main,
.cm-map-wrapper {
  margin-left: auto;
  margin-right: auto;
  position: relative;
}
button.booth {
  opacity: 1;
  z-index: 10000;
}
@media (max-width:768px){
  .row-nav{
    margin-top:5rem;
    justify-content:center;
    text-align:center;
  }
  .cm-main {
    width: 100%;
    max-width: none;
    overflow-x: hidden;
  }
  .cm-map-wrapper {
    width: 100%;
    max-width: none;
  }
}
